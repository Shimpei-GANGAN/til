## sec 4
モザイクの科学

画像ピラミッド、フーリエ変換

モザイクとは「**高周波にノイズの乗るローパスフィルター**8」

### 波としての画像
画像の「周波数」に注目する。

音は波の性質を持つ。シンセサイザー。

$$
y = \sin{(x)}
$$

``` python
import numpy as np
x = np.arange(0, 10, 0.01)
y = np.sin(x) # (1000, )
```

$$
z = \sin{(x+y)}
$$

``` python
x = np.arange(0, 10, 0.01)
y = np.arange(0, 10, 0.01)
z = np.sin(x + y) # (1000, 1000)
```

[0, 1] に出力を合わせる

$$
z = \frac{\sin{(x+y)}+1}{2}
$$

並のデータを考えるときには、波を１つの関数と見做して、その関数を複数の sin 関数の合成として捉えるという手法（フーリエ変換）がある。

**音は目的変数がベクトルであったが、目的変数を行列に拡張すれば画像も波として考えることができる**

つまり、画像も sin 波の合成として捉えられ、このアプローチにより「周波数」の概念が出てくる

音において周波数を上げることは音の高さを意味する。

画像における周波数とは。

- 低周波成分：全体のぼやっとした雰囲気、色合い
  - 空や雲
- 高周波成分：細部の輪郭線
  - エッジや髪の毛のような細い線

> 画像の低周波成分とは、全体のぼやっとした雰囲気や色合い、高周波成分とは輪郭線や細い模様をそれぞれ対応

### ガウシアンピラミッド
ラプラシアンピラミッドは、バンドパスフィルターに近い存在として位置付けられる。

ガウシアンピラミッドではカーネルサイズ 5×5 の畳み込みをすることが多い。5×5 の場合カーネルは、

$$
K=\frac{1}{256}
\left(
\begin{array}{ccccc} 
1 & 4 & 6 & 4 & 1\\
4 & 16 & 24 & 16 & 4\\
6 & 24 & 36 & 24 & 6\\
4 & 16 & 24 & 16 & 4\\1 & 4 & 6 & 4 & 1\\
\end{array}
\right)
$$

``` python
x = original_image
results = [x]
for i in range(n):
    x = gaussian_blur(x) # ガウシアンぼかし
    x = downsampling(x) # 1/2 に縮小
    results.append(x)
```

解像度が小さくなるに従い、全体の雰囲気のみが表現されるようになる。
これはガウシアンぼかし＋リサイズにより、次第に高周波の成分が削ぎ落とされ、低周波の部分だけが残るようになったからである。

### ラプラシアンピラミッド
ガウシアンピラミッド同士の差分を取ったもの

ガウシアンぼかしはローパスフィルターの役割がある。

> ラプラシアンピラミッドを使えば、畳み込みとリサイズだけで近似的に周波数特性をみれる

### １次元フーリエ変換
FFTとは高速フーリエ変換の略であるが、単にフーリエ変換のことをFFTということも多い。

逆フーリエは、ifft





