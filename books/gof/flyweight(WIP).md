# Flyweight
同じものを共有して無駄をなくす

## Flyweight パターン
Flyweight というのは、「フライ級」のことで、ボクシングで最も体重が軽い階級を表す。このデザインパターンは、オブジェクトを「軽く」するためのもの。

方針としては、**「インスタンスをできるだけ共有させて、無駄に new しない」**というもの。


## ヒント

### 複数箇所に影響が及ぶ
インスタンスを「共有」させることがテーマであるため、「**共有しているものを変更すると、複数箇所に影響が及ぶ**」ということに注意する必要がある。

よって、Flyweight 役にもたせる情報は、よくよく選ぶ必要がある。本当に複数箇所に共有させるべき情報だけを、Flyweight 役にもたせるのが良い。

### intrinsic と extrinsic
共有させる情報は、**intrinsic** な情報と呼ばれる。インスタンスをどこに持っていても、どんな状況下でも変わることのない情報。

共有させない情報は、**extrinsic**な情報と呼ばれる。

### 管理されているインスタンスは、ガベージコレクションされない
java.util.Hashtable を使って、生成したインスタンスを管理している。**このように「インスタンスを管理する」という機能を Java で実現した時には、必ず「管理されているインスタンスはガベージコレクションされない」ということを意識する**。
